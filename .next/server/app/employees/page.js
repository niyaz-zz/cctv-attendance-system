(()=>{var e={};e.id=708,e.ids=[708],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3444:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55613).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},3953:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55613).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17854:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c});var a=s(95466),r=s(56525),n=s(1861),l=s.n(n),i=s(91546),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c={children:["",{children:["employees",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,86247)),"D:\\WorksAtAMS\\ams project\\cctv-attendance-system\\app\\employees\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,57006)),"D:\\WorksAtAMS\\ams project\\cctv-attendance-system\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,10907,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,75958,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,16463,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["D:\\WorksAtAMS\\ams project\\cctv-attendance-system\\app\\employees\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/employees/page",pathname:"/employees",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44590:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>o,Es:()=>u,L3:()=>x,c7:()=>m,lG:()=>i,rr:()=>h});var a=s(256);s(90113);var r=s(52964),n=s(80981),l=s(48629);function i({...e}){return(0,a.jsx)(r.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function o({className:e,children:t,showCloseButton:s=!0,...i}){return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,s&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function u({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function x({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...t})}function h({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...t})}},45486:(e,t,s)=>{Promise.resolve().then(s.bind(s,12763)),Promise.resolve().then(s.bind(s,99467)),Promise.resolve().then(s.bind(s,80261))},48218:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>d,av:()=>c,j7:()=>i,tU:()=>l});var a=s(256);s(90113);var r=s(8863),n=s(48629);function l({className:e,...t}){return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",e),...t})}function i({className:e,...t}){return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function d({className:e,...t}){return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function c({className:e,...t}){return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",e),...t})}},58709:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(55613).A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68076:(e,t,s)=>{"use strict";s.d(t,{A0:()=>l,BF:()=>i,Hj:()=>d,XI:()=>n,nA:()=>o,nd:()=>c});var a=s(256);s(90113);var r=s(48629);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})})}function l({className:e,...t}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...t})}function i({className:e,...t}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t})}function d({className:e,...t}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function c({className:e,...t}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function o({className:e,...t}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},76146:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>x,gC:()=>u,l6:()=>c,yv:()=>o});var a=s(256);s(90113);var r=s(55843),n=s(87147),l=s(67529),i=s(27174),d=s(48629);function c({...e}){return(0,a.jsx)(r.bL,{"data-slot":"select",...e})}function o({...e}){return(0,a.jsx)(r.WT,{"data-slot":"select-value",...e})}function m({className:e,size:t="default",children:s,...l}){return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l,children:[s,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function u({className:e,children:t,position:s="popper",...n}){return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function x({className:e,children:t,...s}){return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function h({className:e,...t}){return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p({className:e,...t}){return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}},84806:(e,t,s)=>{Promise.resolve().then(s.bind(s,81112)),Promise.resolve().then(s.bind(s,98543)),Promise.resolve().then(s.bind(s,63507))},86247:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(55322),r=s(81112),n=s(63507),l=s(98543);function i(){return(0,a.jsx)(r.ProtectedRoute,{requiredRole:"hr",children:(0,a.jsx)(n.DashboardLayout,{children:(0,a.jsx)(l.EmployeeManagement,{})})})}},98543:(e,t,s)=>{"use strict";s.d(t,{EmployeeManagement:()=>a});let a=(0,s(44810).registerClientReference)(function(){throw Error("Attempted to call EmployeeManagement() from the server but EmployeeManagement is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\WorksAtAMS\\ams project\\cctv-attendance-system\\components\\employees\\employee-management.tsx","EmployeeManagement")},99467:(e,t,s)=>{"use strict";s.d(t,{EmployeeManagement:()=>I});var a=s(256),r=s(90113),n=s(90362),l=s(89928),i=s(76146),d=s(84429),c=s(55613);let o=(0,c.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var m=s(68076),u=s(51017),x=s(36305),h=s(14009),p=s(3953),j=s(3444),v=s(58709),g=s(51242),f=s(4390),b=s(70504),y=s(91664);function N({employees:e,sortField:t,sortDirection:s,onSort:r,onEdit:l,onDelete:i}){let d=e=>{t===e?r(e,"asc"===s?"desc":"asc"):r(e,"asc")},c=e=>t!==e?(0,a.jsx)(p.A,{className:"ml-2 h-4 w-4"}):"asc"===s?(0,a.jsx)(j.A,{className:"ml-2 h-4 w-4"}):(0,a.jsx)(v.A,{className:"ml-2 h-4 w-4"}),o=e=>{switch(e){case"active":return(0,a.jsx)(u.E,{className:"bg-secondary/10 text-secondary",children:"Active"});case"inactive":return(0,a.jsx)(u.E,{variant:"secondary",children:"Inactive"});case"terminated":return(0,a.jsx)(u.E,{variant:"destructive",children:"Terminated"});default:return(0,a.jsx)(u.E,{variant:"outline",children:e})}},N=e=>new Date(e).toLocaleDateString();return(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(m.XI,{children:[(0,a.jsx)(m.A0,{children:(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nd,{children:"Employee"}),(0,a.jsx)(m.nd,{children:(0,a.jsxs)(n.$,{variant:"ghost",onClick:()=>d("department"),className:"h-auto p-0 font-medium",children:["Department",c("department")]})}),(0,a.jsx)(m.nd,{children:(0,a.jsxs)(n.$,{variant:"ghost",onClick:()=>d("position"),className:"h-auto p-0 font-medium",children:["Position",c("position")]})}),(0,a.jsx)(m.nd,{children:(0,a.jsxs)(n.$,{variant:"ghost",onClick:()=>d("status"),className:"h-auto p-0 font-medium",children:["Status",c("status")]})}),(0,a.jsx)(m.nd,{children:(0,a.jsxs)(n.$,{variant:"ghost",onClick:()=>d("hireDate"),className:"h-auto p-0 font-medium",children:["Hire Date",c("hireDate")]})}),(0,a.jsx)(m.nd,{children:"Face Data"}),(0,a.jsx)(m.nd,{className:"w-[70px]",children:"Actions"})]})}),(0,a.jsx)(m.BF,{children:e.map(e=>(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nA,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(x.eu,{className:"h-8 w-8",children:[(0,a.jsx)(x.BK,{src:e.avatar||`/placeholder.svg?height=32&width=32&query=${e.name}`,alt:e.name}),(0,a.jsx)(x.q5,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.employeeId})]})]})}),(0,a.jsx)(m.nA,{children:e.department}),(0,a.jsx)(m.nA,{children:e.position}),(0,a.jsx)(m.nA,{children:o(e.status)}),(0,a.jsx)(m.nA,{children:N(e.hireDate)}),(0,a.jsx)(m.nA,{children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:e.faceData?(0,a.jsxs)(u.E,{variant:"outline",className:"text-secondary",children:[(0,a.jsx)(g.A,{className:"mr-1 h-3 w-3"}),"Registered"]}):(0,a.jsx)(u.E,{variant:"outline",className:"text-muted-foreground",children:"Not Registered"})})}),(0,a.jsx)(m.nA,{children:(0,a.jsxs)(h.rI,{children:[(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(h.SQ,{align:"end",children:[(0,a.jsxs)(h._2,{onClick:()=>l(e),children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(h._2,{onClick:()=>i(e.id),className:"text-destructive",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})}var w=s(71406),A=s(55133),k=s(43741),C=s(44590),S=s(19146),D=s(48218),E=s(47708),P=s(65558),_=s(80981),q=s(67529);let M=(0,c.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),F=(0,c.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function z({existingFaceData:e,existingAvatar:t,onFaceRegistered:s}){let[l,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(t||null),[o,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(""),[p,j]=(0,r.useState)(!1),v=(0,r.useRef)(null),f=(0,r.useRef)(null),b=(0,r.useRef)(null),y=(0,r.useCallback)(async()=>{try{h("");let e=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"user"}});m(e),v.current&&(v.current.srcObject=e),i(!0)}catch(e){h("Unable to access camera. Please check permissions and try again.")}},[]),N=(0,r.useCallback)(()=>{o&&(o.getTracks().forEach(e=>e.stop()),m(null)),i(!1)},[o]),w=(0,r.useCallback)(()=>{if(v.current&&f.current){let e=f.current,t=v.current,s=e.getContext("2d");s&&(e.width=t.videoWidth,e.height=t.videoHeight,s.drawImage(t,0,0),c(e.toDataURL("image/jpeg",.8)),N())}},[N]),A=(0,r.useCallback)(e=>{let t=e.target.files?.[0];if(t){if(t.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{c(e.target?.result)},e.readAsDataURL(t)}else h("Please select a valid image file.")}},[]),k=(0,r.useCallback)(()=>{d&&(s(d,d),j(!0),h(""),setTimeout(()=>j(!1),3e3))},[d,s]),C=(0,r.useCallback)(()=>{c(null),s("",""),j(!1),h("")},[s]),S=(0,r.useCallback)(()=>{c(null),N(),h(""),j(!1)},[N]);return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(E.Zp,{children:[(0,a.jsxs)(E.aR,{children:[(0,a.jsxs)(E.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"Face Registration"]}),(0,a.jsx)(E.BT,{children:"Capture or upload a photo for facial recognition. Ensure the face is clearly visible and well-lit."})]}),(0,a.jsxs)(E.Wu,{className:"space-y-4",children:[u&&(0,a.jsx)(P.Fc,{variant:"destructive",children:(0,a.jsx)(P.TN,{children:u})}),l&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,a.jsx)("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover",onLoadedMetadata:()=>{v.current&&v.current.play()}}),(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-primary/50 rounded-lg pointer-events-none",children:(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-2 border-primary rounded-full"})})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(n.$,{onClick:w,size:"lg",children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Capture Photo"]}),(0,a.jsxs)(n.$,{onClick:N,variant:"outline",children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Cancel"]})]})]}),d&&!l&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(x.eu,{className:"h-32 w-32",children:[(0,a.jsx)(x.BK,{src:d||"/placeholder.svg",alt:"Captured face"}),(0,a.jsx)(x.q5,{children:"Face"})]})}),p&&(0,a.jsxs)(P.Fc,{className:"border-green-200 bg-green-50 text-green-800",children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),(0,a.jsx)(P.TN,{children:"Face data saved successfully! You can now save the employee details."})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[p?(0,a.jsxs)(n.$,{onClick:C,variant:"destructive",children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Remove Face Data"]}):(0,a.jsxs)(n.$,{onClick:k,className:"bg-primary hover:bg-primary/90",children:[(0,a.jsx)(q.A,{className:"mr-2 h-4 w-4"}),"Save Face Data"]}),(0,a.jsxs)(n.$,{onClick:S,variant:"outline",children:[(0,a.jsx)(M,{className:"mr-2 h-4 w-4"}),"Retake"]})]})]}),!l&&!d&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(n.$,{onClick:y,variant:"outline",className:"h-24 flex-col bg-transparent",children:[(0,a.jsx)(g.A,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("span",{children:"Use Camera"})]}),(0,a.jsxs)(n.$,{onClick:()=>b.current?.click(),variant:"outline",className:"h-24 flex-col",children:[(0,a.jsx)(F,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("span",{children:"Upload Photo"})]})]}),e&&!d&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Current registered face:"}),(0,a.jsxs)(x.eu,{className:"h-24 w-24 mx-auto",children:[(0,a.jsx)(x.BK,{src:e||"/placeholder.svg",alt:"Registered face"}),(0,a.jsx)(x.q5,{children:"Face"})]})]})}),(0,a.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:A,className:"hidden"}),(0,a.jsx)("canvas",{ref:f,className:"hidden"})]})]})})}let R=k.Ik({name:k.Yj().min(2,"Name must be at least 2 characters"),email:k.Yj().email("Please enter a valid email address"),department:k.Yj().min(1,"Department is required"),position:k.Yj().min(1,"Position is required"),phone:k.Yj().min(10,"Phone number must be at least 10 characters"),status:k.k5(["active","inactive","terminated"]),hireDate:k.Yj().min(1,"Hire date is required")});function $({open:e,onOpenChange:t,employee:s,onSave:d}){let[c,o]=(0,r.useState)(s?.faceData),[m,u]=(0,r.useState)(s?.avatar),{register:x,handleSubmit:h,setValue:p,watch:j,reset:v,formState:{errors:g}}=(0,w.mN)({resolver:(0,A.u)(R)}),f=j("status");return(0,a.jsx)(C.lG,{open:e,onOpenChange:t,children:(0,a.jsxs)(C.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(C.c7,{children:[(0,a.jsx)(C.L3,{children:s?"Edit Employee":"Add New Employee"}),(0,a.jsx)(C.rr,{children:s?"Update employee information and face registration.":"Add a new employee to the system."})]}),(0,a.jsxs)(D.tU,{defaultValue:"details",className:"w-full",children:[(0,a.jsxs)(D.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(D.Xi,{value:"details",children:"Employee Details"}),(0,a.jsx)(D.Xi,{value:"face",children:"Face Registration"})]}),(0,a.jsx)(D.av,{value:"details",className:"space-y-4",children:(0,a.jsxs)("form",{onSubmit:h(e=>{d({...e,faceData:c,avatar:m})}),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(l.p,{id:"name",...x("name"),placeholder:"Enter full name"}),g.name&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.name.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(l.p,{id:"email",type:"email",...x("email"),placeholder:"Enter email address"}),g.email&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.email.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"department",children:"Department"}),(0,a.jsxs)(i.l6,{value:j("department"),onValueChange:e=>p("department",e),children:[(0,a.jsx)(i.bq,{children:(0,a.jsx)(i.yv,{placeholder:"Select department"})}),(0,a.jsx)(i.gC,{children:["Engineering","Design","Marketing","Sales","HR","Finance","Operations"].map(e=>(0,a.jsx)(i.eb,{value:e,children:e},e))})]}),g.department&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.department.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"position",children:"Position"}),(0,a.jsx)(l.p,{id:"position",...x("position"),placeholder:"Enter position"}),g.position&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.position.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"phone",children:"Phone"}),(0,a.jsx)(l.p,{id:"phone",...x("phone"),placeholder:"Enter phone number"}),g.phone&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.phone.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"hireDate",children:"Hire Date"}),(0,a.jsx)(l.p,{id:"hireDate",type:"date",...x("hireDate")}),g.hireDate&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.hireDate.message})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(i.l6,{value:f,onValueChange:e=>p("status",e),children:[(0,a.jsx)(i.bq,{children:(0,a.jsx)(i.yv,{placeholder:"Select status"})}),(0,a.jsxs)(i.gC,{children:[(0,a.jsx)(i.eb,{value:"active",children:"Active"}),(0,a.jsx)(i.eb,{value:"inactive",children:"Inactive"}),(0,a.jsx)(i.eb,{value:"terminated",children:"Terminated"})]})]}),g.status&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:g.status.message})]}),(0,a.jsxs)(C.Es,{children:[(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",children:s?"Update Employee":"Add Employee"})]})]})}),(0,a.jsx)(D.av,{value:"face",className:"space-y-4",children:(0,a.jsx)(z,{existingFaceData:c,existingAvatar:m,onFaceRegistered:(e,t)=>{o(e),u(t),console.log("[v0] Face data registered successfully")}})})]})]})})}function I(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)([]),[m,u]=(0,r.useState)({search:"",department:"All Departments",status:"All Status"}),[x,h]=(0,r.useState)("name"),[p,j]=(0,r.useState)("asc"),[v,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(null),y=Array.from(new Set(e.map(e=>e.department)));return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-heading",children:"Employee Management"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage employee records and face registration"})]}),(0,a.jsxs)(n.$,{onClick:()=>{b(null),g(!0)},children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Add Employee"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.p,{placeholder:"Search employees...",value:m.search,onChange:e=>u(t=>({...t,search:e.target.value})),className:"pl-10"})]}),(0,a.jsxs)(i.l6,{value:m.department,onValueChange:e=>u(t=>({...t,department:e})),children:[(0,a.jsx)(i.bq,{className:"w-full sm:w-48",children:(0,a.jsx)(i.yv,{placeholder:"All Departments"})}),(0,a.jsxs)(i.gC,{children:[(0,a.jsx)(i.eb,{value:"All Departments",children:"All Departments"}),y.map(e=>(0,a.jsx)(i.eb,{value:e,children:e},e))]})]}),(0,a.jsxs)(i.l6,{value:m.status,onValueChange:e=>u(t=>({...t,status:e})),children:[(0,a.jsx)(i.bq,{className:"w-full sm:w-32",children:(0,a.jsx)(i.yv,{placeholder:"All Status"})}),(0,a.jsxs)(i.gC,{children:[(0,a.jsx)(i.eb,{value:"All Status",children:"All Status"}),(0,a.jsx)(i.eb,{value:"active",children:"Active"}),(0,a.jsx)(i.eb,{value:"inactive",children:"Inactive"}),(0,a.jsx)(i.eb,{value:"terminated",children:"Terminated"})]})]})]}),(0,a.jsx)(N,{employees:s,sortField:x,sortDirection:p,onSort:(e,t)=>{h(e),j(t)},onEdit:e=>{b(e),g(!0)},onDelete:e=>{t(t=>t.filter(t=>t.id!==e))}}),(0,a.jsx)($,{open:v,onOpenChange:g,employee:f,onSave:s=>{if(f)t(e=>e.map(e=>e.id===f.id?{...e,...s,updatedAt:new Date().toISOString()}:e));else{let a={id:Date.now().toString(),employeeId:`EMP${(e.length+1).toString().padStart(3,"0")}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...s};t(e=>[...e,a])}g(!1)}})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[516,885,126,800,216,234,28,57,36],()=>s(17854));module.exports=a})();